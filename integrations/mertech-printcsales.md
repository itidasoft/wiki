---
title: Весы с печатью этикеток Mertech
description: Подключение весов с печатью этикеток Mertech серии M-ER 725, 727, 828
published: true
date: 2023-11-29T06:36:26.624Z
tags: весы, mertech, весы с печатью
editor: markdown
dateCreated: 2023-09-15T10:24:40.122Z
---

# Системные требования

> Внимание! Обмен с весами осуществляется в режиме обмена с внешней фронт системой. Данный функционал доступен во всех конфигурациях Айтида, кроме конфигурации «**Айтида Розница**».
{.is-warning}


Для подключения весов Mertech необходимо обновить Айтиду минимум до версии **4.5.1** (или более новой), а также скачать и загрузить актуальные профили обмена с оборудованием.

Для работы с весами Mertech серии M-ER 725, 727, 828 используется профиль под названием **«Весы с ПЭ Mertech серии M-ER 725, 727, 828 (режим ККМ)»**

![](/images/integrations/mertech_m_er_725_727_828/24d22046e198a7bc22278dda75d7979e.png)

# Настройка подключения весов к Айтиде

Для настройки связи с весами необходимо перейти в справочник торгового оборудования и создать новую карточку оборудования по следующему шаблону

![Карточка торгового оборудования](/images/integrations/mertech_m_er_725_727_828/44373fa5a3f526f187e79fef23993361.png)

**Наименование:** указать произвольное наименование для оборудования

**Тип оборудования:** выбрать вариант «ККМ (внешняя фронт система)»

**Профиль:** выбрать профиль «Весы с ПЭ Mertech серии M-ER 725, 727, 828 (режим ККМ)»

## Вкладка «Выгрузка данных»

**Имя файла:** указать имя файла для выгрузки данных. В этот файл будут записываться выгружаемые в весы товары и категории товаров.

>   Внимание! В качестве категорий товаров выгружаются группы ресурсов из одноименного справочника групп ресурсов
{.is-info}


**Имя файла флага:** указать имя файла, который будет содержать в себе команды для программы «Менеджер задач», через которую будет осуществляться доставка выгружаемых данных в весы.

**Загружать весы через ККМ:** установить флаг

**Количество ячеек в весах:** указать максимально возможное значение. В версии Айтида 4.5.1 это 999999. Сами весы поддерживают максимальное значение кода товара и номера ПЛУ равное 9999999.

## Вкладка «Прочие параметры»

![Прочие параметры](/images/integrations/mertech_m_er_725_727_828/12034647ba0ede9a508135d3b8bdc31b.png)

Указать требуемую фирму и склад. По складу определяется категория цены, которая используется для расчета выгружаемых в весы цен.

**Логин:** в этом поле необходимо указать IP адрес весов и порт подключения в формате **IPадрес:Порт**

**Пароль:** необходимо указать пароль для доступа к весам. По умолчанию равен значению 1234.

# Установка и настройка приложения «Менеджер задач»

Программа TaskManager не имеет собственного графического интерфейса. Она может запускаться с параметрами в виде JSON файла, исполнять JSON-задания и сохранять полученные данные в другой JSON-файл.

Настроить автоматическое выполнение заданий ПО TaskManager возможно в стандартном ПО Windows «Планировщик заданий».

## Установка программы

Скачайте файл установки «Менеджера задач» (TaskManager-х.х.ххх.exe) с сайта <https://docs.mertech.ru/scales/software/task_manager.html> и запустите его выполнение.

![Установка TaskManager](/images/integrations/mertech_m_er_725_727_828/040784ec5f7a7b67eb8d1d201eccc4eb.png)

Пройдите все этапы установки нажимая кнопку «Next», завершите установку.

## Настройка планировщика Windows

Наберите в поиске Windows «Планировщик заданий» и откройте программу.

![Планировщик задач Windows](/images/integrations/mertech_m_er_725_727_828/c560847fe2764da40652f5e4bbc0c902.png)

Нажмите в правом окне «Действия» пункт «Создать задачу».

![Задание планировщика](/images/integrations/mertech_m_er_725_727_828/0131d181055cfa6c0a3ffb1a39068e7c.png)

Присвойте задаче понятное имя, например, «Выгрузка файлов в весы Mertech».

![Параметры задания](/images/integrations/mertech_m_er_725_727_828/c812898ea8a43b19f585d69cae1b093b.png)

На вкладке «Триггеры» настройте расписание запуска задачи. Перейдите на вкладку «Действия».

![Триггеры задания](/images/integrations/mertech_m_er_725_727_828/1b171e5bad21fadc1e81d7a41ff54257.png)

![Запускаемая программа](/images/integrations/mertech_m_er_725_727_828/ba3f7107ef9a9cd815373fbeeb4dbc2a.png)

В поле ввода «Программа или сценарий» укажите полный путь к проинсталлированному файлу TaskManager.exe

В поле ввода «Добавить аргументы» укажите полный путь к файлу с JSON-заданиями и через пробел полный путь к файлу, в который будут сохраняться результаты выполнения заданий.

>   Если в пути любого из файла есть пробел, то путь необходимо указать в двойных кавычках "".
{.is-warning}

По примеру настроек из данного руководства в качестве аргументов для запуска программы TaskManager указана строка:
`"E:\\Exchange\\mertech\\tasks.JSON" "E:\\Exchange\\mertech\\result.JSON"`

Здесь `"E:\\Exchange\\mertech\\tasks.JSON"` – это путь к файлу флага, указанного в карточке торгового оборудования, а `"E:\\Exchange\\mertech\\result.JSON"` – путь до файла, содержащего результат выгрузки заданий в весы.

>   Файл с результатом выполнения заданий создается автоматически приложением «Менеджер задач».
{.is-info}


Сохраните настройки и проверьте, что настроенные JSON-задания исполняются корректно.

# Процесс выгрузки товаров в весы

Для выгрузки товаров и категорий в весы Mertech необходимо воспользоваться стандартной формой обмена с оборудованием.

![Форма обмена с оборудованием](/images/integrations/mertech_m_er_725_727_828/cb844c005ae40975c52101c1e981c7fc.png)

Данная форма может быть вызвана из меню Сервис – Обмен данными с оборудованием или из формы любого документа, содержащего табличную часть с товарами по кнопке обмена с оборудованием на панели инструментов документа.

![Выгрузка в оборудование из документа](/images/integrations/mertech_m_er_725_727_828/2161c909fa328e9ea2c52f81f0e91d89.png)

## Отладка процесса передачи данных в весы

После выгрузки данных в весы через форму обмена в каталоге обмена сформируются два файла, указанные в карточке оборудования. Программа «Менеджер задач», через указанный в задании планировщика интервал обработает файл с заданием и передаст в весы все данные согласно заданию. После обмена с весами сформируется отчетный файл с результатом выполнения задания. В случае проблем с выгрузкой данных в весы ответный файл может быть передан техническому специалисту на анализ причин проблемы.

## Автоматическая выгрузка данных в весы

Благодаря тому, что весы подключаются к Айтиде в режиме подключения как Внешняя фронт-система имеется возможность автоматизировать процесс выгрузки данных в весы через службу Айтида (**IDMService**).

Для настройки автоматической выгрузки в весы через службу Айтида, без необходимости делать это вручную через форму обмена, необходимо обратиться в обслуживающую организацию, являющуюся партнёром компании Айтида.
