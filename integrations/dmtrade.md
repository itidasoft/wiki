---
title: DataMobile Мобильная торговля
description: Руководство по настройке интеграции с DataMobile Мобильная торговля
published: true
date: 2023-11-20T12:19:32.372Z
tags: datamobile, dmtrade, мобильная торговля, автоматизация доставки, автоматизация торговых представителей
editor: markdown
dateCreated: 2023-09-15T08:28:40.693Z
---

# Предварительная настройка Айтида

1.  Обновить базу данных и программу до версии 4.5.4.
2.  Загрузить параметры из файла «ПАРАМЕТРЫ DATAMOBILE TRADE.CNT» в справочник параметров системы (Сервис – Настройка системы – Настройка параметров системы)
    [параметры_datamobile_trade.cnt](/images/integrations/dmtrade/параметры_datamobile_trade.cnt)
3.  Загрузить профиль из файла «ПРОФИЛЬ DATAMOBILE МОБИЛЬНАЯ ТОРГОВЛЯ.CNT» в справочник профилей оборудования.
		[профиль_datamobile_мобильная_торговля.cnt](/images/integrations/dmtrade/профиль_datamobile_мобильная_торговля.cnt)


# Настройка пользователей для Мобильной торговли

В точке зрения для справочника сотрудников добавить два параметра: «DMTRADE_ПользовательКуръер», «DMTRADE_ПользовательПродавец».

![Параметры сотрудника](/images/integrations/dmtrade/e7ebaa214c72387f03d833685495c1eb.png)

Перейти в справочник сотрудников (Персонал – Сотрудники) и создать необходимое количество пользователей. Для каждого сотрудника указать ФИО, пароль и в дополнительных свойствах указать его роль: курьер или продавец. Установка флагов «курьер» и «продавец» открывает доступ к соответствующему функционалу мобильного приложения.

![Карточка сотрудника](/images/integrations/dmtrade/ec9a8c29280313f09a33f6c81556b882.png)

# Настройка для документов Заказ от покупателя

В точке зрения для документа «Заказ от покупателя» добавить следующий список дополнительных реквизитов из справочника параметров системы:

![Заказ от покупателя - доп свойства](/images/integrations/dmtrade/a05a275f2b00fbe30aed57150ae237bb.png)

# Настройка статусов документов.

Статусы для документов настраиваются в справочнике статусов документов (Сервис – настройка системы – Настройка статусов документов).

В справочнике необходимо создать необходимое количество статусов для документа Заказ от покупателя.

Пример настройки статусов:

![Настройка статусов](/images/integrations/dmtrade/16ab313ba58f7aa01584b1ea17d9be4a.png)

# Установка сервера DataMobile на ПК

Установить серверное приложение DataMobile версии не ниже 3.3.0.24 по инструкции от разработчика приложения. Если производить установку на тот же ПК, где установлена Айтида (рекомендуемый вариант), то при установке серверной части можно отдельно не устанавливать экземпляр SQL сервера, а использовать имеющийся, к которому подключена база Айтиды.

В серверной утилите DataMobile необходимо создать базу данных на SQL сервере, с которой будет происходить обмен. Пример приведен на скриншоте ниже.

![Настройка сервера](/images/integrations/dmtrade/4f34c0e3b7de0a12dab17a7811c3e305.png)

# Настройка мобильного приложения DataMobile Мобильная торговля

В мобильном приложении DM.Админ (появляется вместе с установкой DM.МобТорг) необходимо указать параметры подключения к SQL серверу и базе DataMobile.

![Настройка приложения](/images/integrations/dmtrade/8875f67f7d9979da81478f9e2055377d.png)

После успешной проверки соединения устройство добавится в базу DataMobile и можно будет переходить к настройке карточки оборудования в Айтиде.

# Настройка карточки оборудования в Айтиде для обмена с устройствами.

Перейти в справочник торгового оборудования (Параметры – Торговое оборудование) и создать новое оборудование с типом «Терминал сбора данных».

![Карточка оборудования](/images/integrations/dmtrade/e70d1f84a3416b76f99bb143f701779c.png)

Указать **наименование** оборудования, выбрать **профиль** «Профиль DataMobile Мобильная торговля».

В поле **Строка соединения** можно указать локальный каталог, в который будут выгружаться файлы xml с выгружаемыми данными. Эти файлы создаются для целей отладки и проверки состава выгружаемых данных в исключительных ситуациях.

По кнопке **Настройка драйвера оборудования** откроется форма настроек связи с базой DataMobile. Здесь нужно указать адрес SQL сервера (IP адрес ПК), порт (стандартный 1433), пользователя сервера базы данных, его пароль и имя базы данных.

![Настройка связи с базой DMTRADE](/images/integrations/dmtrade/00499208f4d3b6a0fcc9ffecff3a1e25.png)

При нажатии кнопки «Продолжить» произойдет проверка связи с базой и, если связь успешно установилась, то выйдет соответствующее сообщение.

![Успешное подключение в базе](/images/integrations/dmtrade/13e7c07c76b706c62e83c97662681e37.png)

После сообщения будет предложено связать карточку оборудования с конкретным устройством.

![Связь с устройством](/images/integrations/dmtrade/fbd17a9c6f33ff4b14e0244b84087e45.png)

Данная привязка устройства позволит загружать данные только из одного устройства при получении обратных данных их ТСД. Если же привязка не установлена, то при загрузке данных будет происходить выбор устройства, из которого необходимо получить данные.

После установки настроек необходимо сохранить карточку оборудования и можно производить обмен данными с устройством как с любым другим ТСД через форму обмена с оборудованием (Сервис - Обмен данными с оборудованием).
