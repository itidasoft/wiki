<!--
title: Untitled Page
description: 
published: true
date: 2022-03-14T08:40:33.267Z
tags: 
editor: ckeditor
dateCreated: 2022-03-13T23:41:11.623Z
-->

<h1>Header</h1>
<p>Your content here</p>
<p>&nbsp;</p>
<pre><code class="language-cpp">//Чтение штрихового кода СКАНЕРОМ ШК в документе.
//В приходной накладной ищем товар по ШК и увеличиваем реальное количество
IF ( КодОбъекта == "001" )
{
	Товар		= ЗАПРОС( "SELECT nn FROM sprnnbc WHERE bc= '" + STDF( ШтрихКод ) + "'" );
	IF ( ПУСТО( Товар ) ) RETURN true;
	
	ОтправитьСообщение( _ДЕСКРИПТОРОКНА, _СООБЩЕНИЕВЫПОЛНИТЬКОМАНДУ, "НАЙТИ", "nn = '" + Товар + "'" );
	IF ( _СТРОКАНАЙДЕНА )
	{
		ОтправитьСообщение( _ДЕСКРИПТОРОКНА, _СООБЩЕНИЕПОЛУЧИТЬЗНАЧЕНИЕПОЛЯВСТРОКЕ, "realkolp" );
		ОтправитьСообщение( _ДЕСКРИПТОРОКНА, _СООБЩЕНИЕУСТАНОВИТЬЗНАЧЕНИЕПОЛЯВСТРОКЕ, "realkolp", _ЗНАЧЕНИЕПОЛЯ + 1 );
		_DODEFAULT= false;
	}
	RETURN true;
}	
IF ( КодОбъекта == "002" )
{
	Товар		= ЗАПРОС( "SELECT nn FROM sprnnbc WHERE bc= '" + STDF( ШтрихКод ) + "'" );
	IF ( ПУСТО( Товар ) ) RETURN true;
	
	ОтправитьСообщение( _ДЕСКРИПТОРОКНА, _СООБЩЕНИЕВЫПОЛНИТЬКОМАНДУ, "НАЙТИ", "nn = '" + Товар + "'" );
	IF ( _СТРОКАНАЙДЕНА )
	{
		ОтправитьСообщение( _ДЕСКРИПТОРОКНА, _СООБЩЕНИЕУСТАНОВИТЬЗНАЧЕНИЕПОЛЯВСТРОКЕ, "СписокШК", "Найден" );
		_DODEFAULT= false;
	}
	RETURN true;
}	
_DODEFAULT= true;
RETURN true;
	</code></pre>
