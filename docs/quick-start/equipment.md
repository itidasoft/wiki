---
title: Подключение оборудования
description: 
published: true
date: 2022-04-03T22:38:17.759Z
tags: оборудование, подключение оборудования, настройка связи с кассой
editor: markdown
dateCreated: 2022-04-03T12:56:31.676Z
---

Система Айтида поддерживает работу с разнообразным оборудованием

-   Сканерами штриховых кодов.
-   Фронт системами (ККМ).
-   Фискальными регистраторами и принтерами чеков.
-   Весами с печатью и без печати этикеток.
-   Терминалами сбора данных
-   Прайс-чекерами.

Основой взаимодействия системы Айтида с оборудованием является драйвер оборудования. По умолчанию система настроена на использование драйверов и оборудования компании Атол. Так же может быть подключено оборудование других производителей при использовании специального инструмента – профиля торгового оборудования. Более подробно о настройке профилей оборудования необходимо смотреть во второй части технического описания системы.

# Настройка ККМ

В программных продуктах серии Айтида реализован обмен данными с кассами **«Frontol»**, **«Штрих-М»** и **«АТОЛ РМК»**. Для всех вариантов используются общие параметры настройки. 

Предпочтительным форматом обмена данными между ПП Айтида и фронт-системами является обмен текстовыми файлами. Для настройки обмена с фронт-системой необходимо зайти в **«Справочник торгового оборудования»** и создать карточку торгового оборудования. 

**Меню Параметры - Торговое оборудование**

## Вкладка «Выгрузка данных»

![](/images/quick-start/front-system.png)

-   **Разделитель —** разделитель целой и дробной части при файловом обмене данными. Обязательно заполнить либо точкой, либо запятой. 
-   **Способы доставки —** позволяют использовать различные способы обмена с торговым оборудованием (e-mail, FTP). 
-   **Флаг «Перезаписывать»** \- при повторной выгрузке данных в кассовую программу «Frontol», значения начальных остатков товара в кассовой программе перезапишутся или суммируются, а информация в поле «Продано» останется без изменений. 
-   **Флаг «Добавлять»** – в момент повторной выгрузки данных в кассовую программу «Frontol», данные о начальном остатке товара суммируются, а информационное поле «Продано» в карточке ТМЦ во Фронтоле останется неизменным. 
-   **Карточки и разрезы —** после выгрузки в кассовую программу «Frontol», в справочнике товаров выгружаются карточки товаров соответствующие конкретным разрезам и выгружаются комбинации разрезов с привязкой к основной карточке товара. 
-   **Флаг «РМК» —** никаких изменений не произойдет, т. к. обработка данных в форме обмена данными с оборудованием версии 2.2 ведется через профиль. Данный флаг будет иметь значение, только если используется «Форма обмена данными с оборудованием версии 2.1», при его установке формат обмена будет соответствовать кассовой программе «АТОЛ: Рабочее Место Кассира». 
-   **Флаг «Выгружать коды налогов» —** появляется возможность выгрузить ставку налога для каждого товара в кассовую программу «Frontol». 
-   **Флаг «Загружать весы через ККМ» —** становится возможной загрузка весового товара в весы через ККМ. При этом необходимо указать кол-во PLU-кодов используемых весов с ПЭ. 

## Вкладка «Загрузка данных»

![](/images/quick-start/front-system2.png)

> **Внимание!** Если используется файл-флаг и не установлен признак «Ручной обмен данными при загрузке», то формируется файл-флаг в указанном каталоге. Если указан способ доставки данных на закладке «Выгрузка данных», то файл-флаг доставляется указанным способом доставки.
> {.is-info}


## Вкладка «Прочие параметры»

![](/images/quick-start/front-system3.png)

-   **Список «Фискальные регистраторы» —** в нижней части окна обязательно указать код группы печати, который настроен на РМ кассы, а также выбрать фирму, которая ей соответствует. 

> **Примечание!** При использовании нескольких ФР на одной кассе, в нижнюю часть окна карточки следует добавить несколько юридических лиц и **указать коды ФР (групп печати) в колонку «ФР»**. 
{.is-info}


> **Внимание!** В случае **несоответствия** кода в файле с транзакциями в системе Айтида, при попытке загрузить файл с транзакциями, система выдаст сообщение **«В файле выгрузки не обнаружены транзакции для данного ФР»**.
{.is-warning}

# Настройка способов доставки данных
В случае, если предполагается обмениваться данными с фронт-системами по электронной почте или через FTP серверы, то необходимо настроить способы доставки данных, для того, чтобы система Айтида могла принимать и отправлять файлы. Настройка производится в справочнике способов доставки.
**Меню Сервис – Настройка системы – Справочник способов доставки**

## Отправка данных по электронной почте
В имени сервера указать имя или IP адрес SMTP сервера и порт доступа, если он отличается от стандартного номера 25. В полях отправитель и имя отравителя большинство постовых серверов требует указывать корректную учетную информацию
После настройки, способ доставки может быть проверен нажатием кнопки **«Проверка»**. В случае возникновения ошибок, можно посмотреть журнал обмена с сервером.

![data-delivery.png](/images/quick-start/data-delivery.png)

 - **Флаг «Использовать SSL»** — в системе Айтида реализована возможность использования шифрования SLL при доставке сообщений по электронной почте. Порты, которые используются протоколом SSL по умолчанию на отправку - 465, на прием - 995. Система автоматически пропишет стандартные номера портов и сообщит об этом, в противном случае их необходимо указывать вручную в поле «Имя сервера» карточки способов доставки.
 
## Получение данных по электронной почте

![data-receive.png](/images/quick-start/data-receive.png)

- **Путь для сохранения прикрепленных файлов** – необходимо указать путь к папке, в которой будут сохраняться прикрепленные файлы. Файлы будут сохраняться с указанными в письме именами, если не указан признак Сохранять прикрепленные файлы с уникальными именами.

# Настройка ТСД

Обмен с ТСД похож на обмен с фронт системами, но с более широким спектром применения и возможностями настройки.
Настройка взаимодействия системы Айтида с ТСД, в сложных ситуациях, может двухуровневая. На нижнем уровне используется профиль оборудования, реализующий интерфейс чтения и записи данных в устройство, на втором уровне используется конфигурация обмена данными с ТСД.
Для того, чтобы подключить ТСД к компьютеру и установить соответствующий драйвер терминалов сбора данных необходимо открыть окно теста драйвера терминала сбора данных. Настроить связь с терминалом и задать имя устройства.
**Меню Параметры - Торговое оборудование**

![tsd.png](/images/quick-start/tsd.png)

- **Кнопка «Настройка драйвера оборудования»** — если не указан профиль оборудования, то будет вызван метод драйвера «ShowProperties». После выполнения обработки у профиля будет запрошено новое количество зарегистрированных в драйвере устройств и будет обновлен список в параметре «Устройство».
- **Выпадающий список «Устройство»** — позволяет выбрать конкретное устройство из списка зарегистрированных в драйвере устройств.

## Вкладка «Параметры обмена данными с ТСД»

![tsd-params.png](/images/quick-start/tsd-params.png)

- **Флаг «Расширенная настройка обмена данными» и выпадающий список «Конфигурация»** — активирует выпадающий список «Конфигурация», указывает на использование настроенной конфигурации обмена данными с ТСД.
- **Поле «Номера формы для выгрузки» «и загрузки данных из ТСД»** — дает возможность установить номера форм с выгружаемыми кодами товаров, следует подставить значения, определенные при настройке драйвера терминала сбора данных.
- **Поля «Для выгрузки в ТСД» и «Для загрузки из ТСД»** — позволяет установить по каким критериям производить загрузку/выгрузку (код, ШК, количество и т.д.).

> Примечание! К примеру, для **Opticon Smart** со стандартной конфигурацией поля для выгрузки/загрузки следующие:
**ШтрихКод
Количество
Наименование
Цена**
{.is-info}

# Настройка выгрузки данных в весы с печатью этикеток

Настройка выгрузки в весы с печатью этикеток начинается с добавления карточки оборудования с типом **«Весы с печатью этикеток»**.

> **Внимание!** В программных продуктах серии **«Айтида Retail»** реализована работа с весами с печатью этикеток ТОЛЬКО в конфигурациях: Pos версия, EasyBOX, Розница, Минимаркет, Супермаркет.
{.is-info}

Перед настройкой весов с печатью этикеток необходимо подключить весы к компьютеру и установить драйвер для весов с печатью этикеток из комплекта ДТО АТОЛ. Затем открыть справочник торгового оборудования и создать карточку весов с печатью этикеток.
**Меню Параметры - Торговое оборудование**

![print-scale.png](/images/quick-start/print-scale.png)

- **Кнопка «Настройка драйвера оборудования»** – вызывается окно свойств драйвера весов с печатью этикеток, в котором необходимо произвести настройки согласно документации к драйверу.
- **Количество памяти** – в поле необходимо указать количество ячеек памяти весов. Система Айтида не сможет присвоить PLU с номером превышающим указанное значение.
- **Устройство** – необходимо выбрать логическое устройство, настроенное в драйвере весов.

После настройки всех карточек весов можно перейти к генерации ПЛУ для товаров, которые предполагается выгружать в весы. Для этих целей предусмотрена форма Ввод PLU для товаров и весов. Форма вызывается из карточки товара кнопкой **«Группы весов»**, либо из справочника товаров из меню кнопки **«Дополнительные возможности»** – **«Работа с группами весов»**.

![scale-group.png](/images/quick-start/scale-group.png)

# Форма Обмен данными с оборудованием
Для обмена данными с оборудованием используется форма **«Обмен данными с оборудованием»**. В зависимости от оборудования и используемого им профиля обмена оборудования, могут использоваться разные релизы формы **«Обмен данными с оборудованием»**.
**Меню Сервис – Обмен данными с оборудованием**

![equipment-exchange.png](/images/quick-start/equipment-exchange.png)

## Оборудование
Установить флаг, указывающий тип используемого оборудования нажать кнопку **«Добавить в список оборудование»**, заполните список подходящим оборудованием.

## Выгрузка товаров
![goods-upload.png](/images/quick-start/goods-upload.png)

Выгрузка товаров может быть произведена в три типа оборудования:
1. Фронт-систему
2. Весы с печатью этикеток
3. Терминал сбора данных

Список для выгрузки может быть сформирован несколькими путями:
- Из документа в списке будет товар из документа.
- Из справочника товаров, в списке будет товар, отмеченный в справочнике.
- Из меню системы список необходимо сформировать прямо в ней.

При формировании списка выгрузки прямо из формы, можно указывать такие параметры, как группа товара или наличие на складе, таким образом можно воспользоваться кнопкой **«Сформировать список товаров по указанным параметрам»**. Так же, товары могут быть добавлены из справочника ТМЦ нажав кнопку **«Добавить товары»**.
В справочнике могут быть выбраны не только сами товары, но и папки. В этом случае, в форму будут переданы все товары из всех вложенных папок, не находящиеся в архиве. В списке выбранных товаров действует сортировка и фильтрация по колонкам.
Установка признака **«Очистить список перед загрузкой»** добавит в выгрузку команду удаления всех товаров из ККМ. Признак доступен только пользователям из Административной группы. Установка признака **«Не удалять товары перед загрузкой»** предотвратит передачу Frontol команды удаления каждого товара из списка перед его добавлением. При нажатии кнопки **«Выгрузить»**, сформированный список будет выгружен в выбранное оборудование

## Загрузка данных

![download-data.png](/images/quick-start/download-data.png)

Загрузка данных может быть произведена из: Фронт-системы, Терминала сбора данных, Локального ФР, выполняющего продажи через форму регистрации продаж.
- **Формировать документы раздельно по: ККМ, ФР, Кассовым сменам** – данные необходимо группировать отдельно по кодам ККМ (оборудования), кодом ФР (поле № 17 загружаемых транзакций) и кассовым сменам. Из каждой группы данных будут сформированы отдельные документы.
- **Брать дату из ККМ** – в этом случае, дата создаваемого документа будет равна дате загружаемых транзакций. Транзакции с разными датами попадут в разные документы.
- **Дата закрытия смены, Дата z-отчета** – в этих случаях система будет искать в файле с данными транзакции закрытия смены / z-отчета. Если нужная транзакция не будет найдена в файле, то документ будет создан как в случае «Брать дату из ККМ».
- **Новые продажи, За период, Кассовые смены, Все продажи хранящиеся в ККМ, Загрузить последнюю кассовую смену** – выбор варианта влияет только на команду, которая будет передана Frontol для выгрузки транзакций. Если файл с данными уже есть в наличии, то значение переключателя игнорируется.

После установки параметров загрузки данных следует нажать кнопку **«Загрузить»**. В появившемся окне **«Загрузка успешно произведена»** нужно нажать кнопку **«ОК»**. Документ кассовой смены сформирован.
Для проведения документа следует нажать кнопку **«Открыть журнал документов»**, двойным щелчком в строке открыть окно **«Документ кассовой смены»** и нажать кнопку **«Записать»**. По необходимости провести документ.