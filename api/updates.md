---
title: API для работы с файлами обновлений
description: Автообновление РМК
published: false
date: 2025-03-24T08:49:04.491Z
tags: 
editor: markdown
dateCreated: 2025-03-24T08:20:42.981Z
---

# Адрес сервера
URL для всех запросов - https://api.itida.ru


# Авторизация пользователя
## POST /auth/login

В теле запроса передается объект с полями:
- **username** - имя пользователя
- **password** - пароль пользователя

Пример:

```json
{
    "username": "user@mail.ru",
    "password": "123456"
}
```

## Ответ
```json
{
    "accessToken": "eyJhbGciOiJIUz...",
    "refreshToken": "eyJhbGciOiJIUzI....",
    "user": {
        "username": "user@mail.ru",
        "fullName": "User Name",
        "id": 1,
        "isActivated": true,
        "roles": "ADMIN"
    }
}
```
- **accessToken** - токен авторизации, который требуется использовать в запросах, требующих авторизацию
- **refreshToken** - токен для обновления авторизационного токена без использования логина и пароля
- **user.username** - логин авторизованного пользователя
- **user.fullName** - Имя авторизованного пользователя
- **user.id** - ИД авторизованного пользователя
- **user.isActivated** - признак активации пользователя (true - пользователь активирован, false - не активирован)
- **user.roles** - роль пользователя

Используется вариант авторизации "Bearer Token".
Из полученного ответа требуется взять значение accessToken и во всех запросах, требующих авторизации,  установить это значение в заголовок авторизации
```json 
Authorization: Bearer ТокенАвторизации
````
где ТокенАвторизации - это полученное значение токена авторизации в ответе на запрос авторизации пользователя.

# Запрос добавления файла на сервер
## POST /files/updatefile

> Требуется авторизация
{.is-info}


Содержимое в теле запроса должно быть в формате **"form-data"**
Обязательны для передачи следующие ключи:
- **date** - дата обновления в формате YYYY-MM-DD
- **version** - версия файла обновления
- **file** - сам файл обновления

![updatefile.png](/images/api/updates/updatefile.png){.align-center}

## Ответ